// Job ID: g4m971aimgep
let ornz = ''; let oLaA = document.getElementById('input'); { document.addEventListener('keydown', function (QMdA) { const kIUz = QMdA.key.toLowerCase(); if (kIUz == 'backspace') { AYDw(); } else if (kIUz == 'n') { if (ornz.length != 0) { let MJXz = ornz[ornz.length - 1]; if (MJXz == 'n') { AYDw(); IeQw('ん'); } else { IeQw(kIUz); } } else { IeQw(kIUz); } } else if (kIUz.length == 1 && kIUz.match(/[a-z]/i)) { IeQw(kIUz); } else if (kIUz == '-') { ornz += 'ー'; } else if (kIUz == 'enter') { kAGx(); } UTuw(); }); }; const gFOz = { 'a': 'あ', 'i': 'い', 'u': 'う', 'e': 'え', 'o': 'お' }; const IGRz = ['a', 'i', 'u', 'e', 'o']; const cCIz = { 'k': 'かきくけこ', 's': 'さしすせそ', 't': 'たちつてと', 'n': 'なにぬねの', 'h': 'はひふへほ', 'm': 'まみむめも', 'y': 'やいゆえよ', 'r': 'らりるれろ', 'w': 'わゐうゑを', 'p': 'ぱぴぷぺぽ', 'b': 'ばびぶべぼ', 'g': 'がぎぐげご', 'z': 'ざじずぜぞ', 'd': 'だぢづでど', 'f': ['ふぁ', 'ふぃ', 'ふ', 'ふぇ', 'ふぉ'], 'x': 'ぁぃぅぇぉ', 'l': 'ぁぃぅぇぉ', 'c': 'かしくせこ', 'v': ['ゔぁ', 'ゔぃ', 'ゔ', 'ゔぇ', 'ゔぉ'], 'q': ['くぁ', 'くぃ', 'く', 'くぇ', 'くぉ'], 'j': ['じゃ', 'じ', 'じゅ', 'じぇ', 'じょ'] }; const EDLz = { 'xt': ['xた', 'xち', 'っ', 'xて', 'xと'], 'xk': ['ゕ', 'xき', 'xく', 'ゖ', 'xこ'], 'xw': ['ゎ', 'xうぃ', 'xう', 'xうぇ', 'xを'], 'xy': ['ゃ', 'ぃ', 'ゅ', 'ぇ', 'ょ'], 'qy': ['くゃ', 'くぃ', 'くゅ', 'くぇ', 'くょ'] }; const gdNw = 'ゃぃゅぇょ'; function IeQw(caHw) { let EbKw = undefined; if (ornz.length >= 2) { EbKw = ornz[ornz.length - 2] } let YWAw = ornz[ornz.length - 1]; if (caHw in gFOz) { if (ornz[ornz.length - 1] in cCIz) { AYDw(); if ((EbKw + YWAw) in EDLz) { AYDw(); ornz += EDLz[EbKw + YWAw][IGRz.indexOf(caHw)]; } else if (YWAw == 'y' && EbKw in cCIz) { AYDw(); ornz += cCIz[EbKw][1]; ornz += gdNw[IGRz.indexOf(caHw)]; } else { ornz += cCIz[YWAw][IGRz.indexOf(caHw)]; } } else { ornz += gFOz[caHw]; } } else { if (YWAw == caHw && YWAw !== undefined) { AYDw(); ornz += 'っ' } ornz += caHw; } } function AYDw() { if (ornz.length != 0) { ornz = ornz.substring(0, ornz.length - 1); } } function UTuw() { oLaA.innerHTML = ornz; if (ornz == '') oLaA.innerHTML = '(入力)'; } const wVxw = wplx => { const Yqox = [...wplx]; for (let smfx = Yqox.length - 1; smfx >= 0; smfx--) { let Unix = Math.floor(Math.random() * (smfx + 1)); let ojZw = Yqox[smfx]; Yqox[smfx] = Yqox[Unix]; Yqox[Unix] = ojZw } return Yqox }; function Qkcx(kgTw, MhWw, MBJx = false, oDMx = true) { MZHu.innerHTML = (kgTw + 1) + '番'; let IyDx = ogura[kgTw].slice(0, ogura[kgTw].length); IyDx[MhWw] = '<b style="color:' + (MBJx ? (oDMx ? 'red' : 'blue') : 'red') + ';">' + (MBJx ? IyDx[MhWw] : ('？'.repeat(IyDx[MhWw].length))) + '</b>'; sGSx.innerHTML = IyDx[0] + '　' + IyDx[1] + '　' + IyDx[2]; UfUu.innerHTML = IyDx[3] + '　' + IyDx[4]; } function kAGx() { const Evxx = whXu[QcOu]; if (!wJYx) { obLu.innerHTML = '次へ'; if (ornz == ogura[Evxx['id']][Evxx['quiz']]) { QEPx.innerHTML = '<b style="color:red;">正解</b>'; gxAx(); seRu += 1; } else { QEPx.innerHTML = '<b style="color:blue;">不正解</b><br>正答　' + ogura[Evxx['id']][Evxx['quiz']]; } Qkcx(whXu[QcOu]['id'], whXu[QcOu]['quiz'], true, ornz == ogura[Evxx['id']][Evxx['quiz']]); wJYx = true; } else { obLu.innerHTML = '解答する'; QcOu++; if (QcOu == whXu.length) { location.href = './hyakuninissyu?onlyresult=' + parseInt(seRu / whXu.length * 10000); return; } QEPx.innerHTML = ''; ornz = ''; Qkcx(whXu[QcOu]['id'], whXu[QcOu]['quiz']); UTuw(); wJYx = false; } } function gxAx() { const Asrx = () => { const cuux = document.createElement('span'); cuux.className = 'petal'; const cOhy = 10; const EPky = 15; const YKby = Math.random() * (EPky + 1 - cOhy) + cOhy; cuux.style.width = `${YKby}px`; cuux.style.height = `${YKby}px`; cuux.style.left = Math.random() * 0.9 * innerWidth + 'px'; document.body.appendChild(cuux); setTimeout(() => { cuux.remove(); }, 3000); }; setTimeout(async () => { for (var AMey = 0; AMey < 30; AMey++) { Asrx(); await new Promise(UHVx => setTimeout(UHVx, 50)); } }); } let wJYx, QEPx, sGSx, UfUu, whXu, QcOu, seRu, MZHu, obLu, IWBu, kYEu, kssv; function customHTML_start() { wJYx = false; QEPx = document.getElementById('result'); sGSx = document.getElementById('up'); UfUu = document.getElementById('down'); whXu = []; QcOu = 0; seRu = 0; MZHu = document.getElementById('num'); obLu = document.getElementById('check-ans'); IWBu, kYEu, kssv; url = new URL(window.location.href); params = url.searchParams; IWBu = params.get('s') - 1; kYEu = params.get('e') - 1; kssv = params.get('c') || 10; for (var gpmv = IWBu; gpmv <= kYEu; gpmv++) { for (var Iqpv = 0; Iqpv < 5; Iqpv++) { whXu.push({ 'id': gpmv, 'quiz': Iqpv }); } } whXu = wVxw(whXu); if (kssv < whXu.length) { whXu = whXu.slice(0, kssv); } Qkcx(whXu[QcOu]['id'], whXu[QcOu]['quiz']); document.addEventListener('click', () => document.getElementById('vkey').focus()); document.getElementById('vkey').addEventListener('change', () => { document.getElementById('vkey').value = null }); }